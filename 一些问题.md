# 头文件相互引用

- A.H

```C++
#ifndef A_H
#define A_H
#include "B.h"
class A{
typedef vector<string>::sizetype size_type;
B b;
}
#endif
```

- B.h

```c++
#ifndef A_H
#define A_H
#include "B.h"
class A{
typedef vector<string>::sizetype size_type;
B b;
}
#endif
```

A和B相互引用会报错

**解决方案**

1. 把A中的B转成`B*`；
2. class A中先声明B，也就是前置声明；
3. A.h 移除对类B.h文件的包含（若用了#ifdef则不必须）
3. **B* b使用指针，因为指针的大小是确定的，一般为4个字节**

```C++
#ifndef A_H
#define A_H
class B
class A{
typedef vector<string>::sizetype size_type;
B* b;
}
#endif
```







# 函数声明

参数省略是 是头文件里面加默认参数



###  内存分配

- 【规则1】用malloc或new申请内存之后，应该立即检查指针值是否为NULL。防止使用指针值为NULL的内存。
- 【规则2】不要忘记为数组和动态内存赋初值。防止将未被初始化的内存作为右值使用。
- 【规则3】避免数组或指针的下标越界，特别要当心发生“多1”或者“少1”操作。
- 【规则4】动态内存的申请与释放必须配对，防止内存泄漏。
- 【规则5】用free或delete释放了内存之后，立即将指针设置为NULL，防止产生“野指针”。
